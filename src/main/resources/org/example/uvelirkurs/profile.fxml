<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.uvelirkurs.controllers.ProfileController"
            styleClass="main-background"
            stylesheets="@styles.css">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="top-bar">
            <Button text="â† ÐÐ°Ð·Ð°Ð´" 
                    onAction="#goBack"
                    styleClass="button-secondary"/>
            <Label text="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ" styleClass="label-title"/>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox alignment="TOP_CENTER" spacing="20" style="-fx-padding: 30;">
                
                <VBox spacing="25" maxWidth="600" styleClass="card">

                    <VBox alignment="CENTER" spacing="12">
                        <StackPane style="-fx-background-color: #4a5fd8; -fx-background-radius: 60; -fx-pref-width: 120; -fx-pref-height: 120;">
                            <Label fx:id="avatarLabel" 
                                   text="ðŸ‘¤" 
                                   style="-fx-font-size: 64px; -fx-text-fill: white;"/>
                        </StackPane>
                        <Label fx:id="userNameDisplay" 
                               text="Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ"
                               styleClass="label-title"/>
                    </VBox>

                    <Separator styleClass="separator-line"/>

                    <GridPane hgap="20" vgap="18">
                        
                        <VBox spacing="6" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="Ð›Ð¾Ð³Ð¸Ð½" styleClass="label-subtitle"/>
                            <TextField fx:id="usernameField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ð½"
                                       styleClass="text-field"/>
                        </VBox>

                        <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¸Ð¼Ñ" styleClass="label-subtitle"/>
                            <TextField fx:id="nameField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ"
                                       styleClass="text-field"/>
                        </VBox>

                        <VBox spacing="6" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <Label text="Email" styleClass="label-subtitle"/>
                            <TextField fx:id="emailField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ email"
                                       styleClass="text-field"/>
                        </VBox>

                        <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <Label text="Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½" styleClass="label-subtitle"/>
                            <TextField fx:id="phoneField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½"
                                       styleClass="text-field"/>
                        </VBox>

                        <VBox spacing="6" GridPane.columnIndex="0" GridPane.rowIndex="2">
                            <Label text="ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" styleClass="label-subtitle"/>
                            <PasswordField fx:id="passwordField" 
                                          promptText="ÐžÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼"
                                          styleClass="text-field"/>
                        </VBox>

                        <VBox spacing="6" GridPane.columnIndex="1" GridPane.rowIndex="2">
                            <Label text="Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ *" styleClass="label-subtitle"/>
                            <PasswordField fx:id="currentPasswordField" 
                                          promptText="Ð”Ð»Ñ Ð¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ñ"
                                          styleClass="text-field"/>
                        </VBox>
                        
                    </GridPane>

                    <Label fx:id="statusLabel" 
                           text="" 
                           wrapText="true"
                           visible="false"
                           maxWidth="Infinity"/>

                    <HBox spacing="15" alignment="CENTER">
                        <Button text="Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ"
                                onAction="#saveProfile"
                                styleClass="button-primary"
                                maxWidth="Infinity"
                                prefWidth="250"
                                HBox.hgrow="ALWAYS"/>
                        <Button text="ÐžÑ‚Ð¼ÐµÐ½Ð°"
                                onAction="#goBack"
                                styleClass="button-secondary"
                                prefWidth="120"/>
                    </HBox>

                    <Label text="* Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÐµÐ½ Ð´Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ" 
                           styleClass="label-small"/>

                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
