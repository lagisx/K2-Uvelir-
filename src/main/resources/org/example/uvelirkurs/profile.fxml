<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.uvelirkurs.controllers.ProfileController"
            styleClass="main-background"
            stylesheets="@styles.css">

    <top>
        <HBox alignment="CENTER_LEFT" spacing="15" styleClass="top-bar">
            <Button text="â† ÐÐ°Ð·Ð°Ð´" 
                    onAction="#goBack"
                    styleClass="button-secondary"/>
            <Label text="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ" styleClass="label-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="ðŸšª Ð’Ñ‹Ð¹Ñ‚Ð¸ Ð¸Ð· Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°" 
                    onAction="#logout"
                    styleClass="button-danger"
                    style="-fx-font-size: 14px;"/>
        </HBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <VBox alignment="TOP_CENTER" spacing="20" style="-fx-padding: 30;">
                
                <VBox spacing="25" maxWidth="700" styleClass="card">

                    <!-- ÐÐ²Ð°Ñ‚Ð°Ñ€ Ð¸ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ -->
                    <VBox alignment="CENTER" spacing="15">
                        <StackPane style="-fx-background-color: linear-gradient(to bottom right, #667eea, #764ba2); -fx-background-radius: 75; -fx-pref-width: 150; -fx-pref-height: 150; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 15, 0, 0, 5);">
                            <Label fx:id="avatarLabel" 
                                   text="ðŸ‘¤" 
                                   style="-fx-font-size: 72px; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        </StackPane>
                        <Label fx:id="userNameDisplay" 
                               text="Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ"
                               styleClass="label-title"
                               style="-fx-font-size: 28px;"/>
                    </VBox>

                    <Separator styleClass="separator-line"/>

                    <!-- Ð¤Ð¾Ñ€Ð¼Ð° Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ -->
                    <GridPane hgap="20" vgap="20">
                        
                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="0">
                            <Label text="Ð›Ð¾Ð³Ð¸Ð½" styleClass="label-subtitle" style="-fx-font-weight: bold;"/>
                            <TextField fx:id="usernameField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð»Ð¾Ð³Ð¸Ð½"
                                       styleClass="text-field"
                                       style="-fx-font-size: 15px;"/>
                        </VBox>

                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="0">
                            <Label text="ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¸Ð¼Ñ" styleClass="label-subtitle" style="-fx-font-weight: bold;"/>
                            <TextField fx:id="nameField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ"
                                       styleClass="text-field"
                                       style="-fx-font-size: 15px;"/>
                        </VBox>

                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="1">
                            <Label text="Email" styleClass="label-subtitle" style="-fx-font-weight: bold;"/>
                            <TextField fx:id="emailField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ email"
                                       styleClass="text-field"
                                       style="-fx-font-size: 15px;"/>
                        </VBox>

                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <Label text="Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½" styleClass="label-subtitle" style="-fx-font-weight: bold;"/>
                            <TextField fx:id="phoneField" 
                                       promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½"
                                       styleClass="text-field"
                                       style="-fx-font-size: 15px;"/>
                        </VBox>

                        <VBox spacing="8" GridPane.columnIndex="0" GridPane.rowIndex="2">
                            <Label text="ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ" styleClass="label-subtitle" style="-fx-font-weight: bold;"/>
                            <PasswordField fx:id="passwordField" 
                                          promptText="ÐžÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼, ÐµÑÐ»Ð¸ Ð½Ðµ Ð¼ÐµÐ½ÑÐµÑ‚Ðµ"
                                          styleClass="text-field"
                                          style="-fx-font-size: 15px;"/>
                        </VBox>

                        <VBox spacing="8" GridPane.columnIndex="1" GridPane.rowIndex="2">
                            <Label text="Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ *" styleClass="label-subtitle" style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
                            <PasswordField fx:id="currentPasswordField" 
                                          promptText="ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ Ð´Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ"
                                          styleClass="text-field"
                                          style="-fx-font-size: 15px;"/>
                        </VBox>
                        
                    </GridPane>

                    <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ -->
                    <Label fx:id="statusLabel" 
                           text="" 
                           wrapText="true"
                           visible="false"
                           alignment="CENTER"
                           maxWidth="Infinity"
                           style="-fx-padding: 12; -fx-background-color: #f0f0f0; -fx-background-radius: 8;"/>

                    <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ -->
                    <HBox spacing="15" alignment="CENTER">
                        <Button text="ðŸ’¾ Ð¡Ð¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ"
                                onAction="#saveProfile"
                                styleClass="button-primary"
                                maxWidth="Infinity"
                                prefWidth="280"
                                style="-fx-font-size: 16px; -fx-padding: 14 28;"
                                HBox.hgrow="ALWAYS"/>
                        <Button text="ÐžÑ‚Ð¼ÐµÐ½Ð°"
                                onAction="#goBack"
                                styleClass="button-secondary"
                                prefWidth="130"
                                style="-fx-font-size: 16px;"/>
                    </HBox>

                    <VBox spacing="10" alignment="CENTER" style="-fx-padding: 15 0 0 0;">
                        <Label text="ðŸ’¡ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸" 
                               styleClass="label-subtitle"
                               style="-fx-font-weight: bold;"/>
                        <Label text="â€¢ Ð”Ð»Ñ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ñ Ð»ÑŽÐ±Ñ‹Ñ… Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð²Ð²Ð¾Ð´ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ð°Ñ€Ð¾Ð»Ñ" 
                               styleClass="label-small"
                               wrapText="true"/>
                        <Label text="â€¢ ÐÐ¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð²Ð²Ð¾Ð´Ð¸Ñ‚Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÐµÐ³Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ" 
                               styleClass="label-small"
                               wrapText="true"/>
                    </VBox>

                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
