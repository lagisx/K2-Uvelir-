<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.*?>

<BorderPane styleClass="main-background" stylesheets="@styles.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.uvelirkurs.controllers.MainController">

    <top>
        <VBox styleClass="top-bar">
            <HBox alignment="CENTER_LEFT" spacing="20">
                <!-- Ð›Ð¾Ð³Ð¾Ñ‚Ð¸Ð¿ Ð¸ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ -->
                <VBox alignment="CENTER_LEFT" spacing="2">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 32px;" text="ðŸ’Ž">
                            <font>
                                <Font name="Segoe UI Emoji" size="32" />
                            </font>
                        </Label>
                        <Label styleClass="label-title" text="Uvelir Shop" />
                    </HBox>
                    <Label styleClass="label-small" text="Ð®Ð²ÐµÐ»Ð¸Ñ€Ð½Ñ‹Ðµ ÑƒÐºÑ€Ð°ÑˆÐµÐ½Ð¸Ñ" />
                </VBox>

                <Region HBox.hgrow="ALWAYS" />

                <!-- ÐŸÐ¾Ð¸ÑÐº -->
                <HBox alignment="CENTER_LEFT" spacing="8" style="-fx-background-color: #f5f5f5; -fx-background-radius: 25; -fx-padding: 10 20;">
                    <Label style="-fx-font-size: 18px;" text="ðŸ”">
                        <font>
                            <Font name="Segoe UI Emoji" size="18" />
                        </font>
                    </Label>
                    <TextField prefWidth="300" promptText="ÐŸÐ¾Ð¸ÑÐº ÑƒÐºÑ€Ð°ÑˆÐµÐ½Ð¸Ð¹..." style="-fx-background-color: transparent; -fx-border-width: 0;" />
                </HBox>

                <!-- ÐœÐ¾Ð¸ Ð·Ð°ÐºÐ°Ð·Ñ‹ -->
                <Button fx:id="ordersButton" prefWidth="160" style="-fx-font-size: 14px;" styleClass="button-secondary">
                    <graphic>
                        <HBox alignment="CENTER" spacing="8">
                            <Label style="-fx-font-size: 18px;" text="ðŸ“‹">
                                <font>
                                    <Font name="Segoe UI Emoji" size="18" />
                                </font>
                            </Label>
                            <Label text="ÐœÐ¾Ð¸ Ð·Ð°ÐºÐ°Ð·Ñ‹" />
                        </HBox>
                    </graphic>
                </Button>

                <!-- ÐšÐ¾Ñ€Ð·Ð¸Ð½Ð° Ñ Ð±ÐµÐ¹Ð´Ð¶ÐµÐ¼ -->
                <StackPane>
                    <Button fx:id="cartButton" prefHeight="52.0" prefWidth="94.0" styleClass="button-primary">
                        <graphic>
                            <Label style="-fx-font-size: 22px; -fx-text-fill: white;" text="ðŸ›’">
                                <font>
                                    <Font name="Segoe UI Emoji" size="22" />
                                </font>
                            </Label>
                        </graphic>
                    </Button>
                    
                    <StackPane mouseTransparent="true" translateX="25" translateY="-15">
                        <Circle radius="12" style="-fx-fill: #e74c3c;" />
                        <Label fx:id="cartBadge" style="-fx-text-fill: white; -fx-font-size: 11px; -fx-font-weight: bold;" text="0" visible="false" />
                    </StackPane>
                </StackPane>

                <!-- ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ -->
                <Button fx:id="profileButton" prefHeight="47.0" prefWidth="168.0" style="-fx-font-size: 14px;" styleClass="button-primary">
                    <graphic>
                        <HBox alignment="CENTER" spacing="8">
                            <Label style="-fx-font-size: 18px; -fx-text-fill: white;" text="ðŸ‘¤">
                                <font>
                                    <Font name="Segoe UI Emoji" size="18" />
                                </font>
                            </Label>
                            <Label style="-fx-text-fill: white;" text="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ" />
                        </HBox>
                    </graphic>
                </Button>
            </HBox>
            
            <Region styleClass="separator-line" />
        </VBox>
    </top>

    <left>
        <VBox prefWidth="250" spacing="0" style="-fx-background-color: white; -fx-padding: 20 15; -fx-border-color: #e0e0e0; -fx-border-width: 0 1 0 0;">
            
            <HBox alignment="CENTER_LEFT" spacing="12" style="-fx-padding: 0 10 15 10;">
                <Label style="-fx-font-size: 20px;" text="ðŸ“‚">
                    <font>
                        <Font name="Segoe UI Emoji" size="20" />
                    </font>
                </Label>
                <Label style="-fx-font-size: 17px; -fx-font-weight: bold;" styleClass="label-subtitle" text="ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸" />
            </HBox>
            
            <Separator styleClass="separator-line">
                <VBox.margin>
                    <Insets bottom="10" />
                </VBox.margin>
            </Separator>

            <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
                <VBox fx:id="categoriesBox" spacing="8" style="-fx-padding: 5 0;" />
            </ScrollPane>
        </VBox>
    </left>

    <center>
        <VBox styleClass="main-background">
            <ScrollPane fitToHeight="true" fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
                
                <VBox prefHeight="598.0" prefWidth="1298.0" spacing="20" style="-fx-padding: 25;">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label styleClass="label-title" text="ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²" />
                        <Label fx:id="productCountLabel" styleClass="label-subtitle" text="0 Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²" />
                    </HBox>
                    
                    <FlowPane fx:id="productsPane" alignment="TOP_LEFT" hgap="20" prefWrapLength="1000" vgap="20" />
                </VBox>
            </ScrollPane>
        </VBox>
    </center>

    <StackPane fx:id="loadingOverlay" style="-fx-background-color: rgba(0,0,0,0.3);" visible="false">
        <VBox alignment="CENTER" spacing="15">
            <ProgressIndicator fx:id="loadingIndicator" prefHeight="60" prefWidth="60" style="-fx-progress-color: #4a5fd8;" />
            <Label style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°..." />
        </VBox>
    </StackPane>

</BorderPane>
